/*!
 * sugar.js v1.1.7 (c) 2016 TANG
 * Released under the MIT license
 * Mon Aug 01 2016 08:56:51 GMT+0800 (CST)
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Sugar=e()}(this,function(){"use strict";function t(t){return"[object Object]"===vt.toString.call(t)}function e(t){return Array.isArray(t)}function i(t){return t instanceof Function}function n(t){return"string"==typeof t}function s(t){return"boolean"==typeof t}function a(t){return"number"==typeof t&&!isNaN(t)}function r(e){return e&&t(e)&&!e.nodeType&&e!==e.window?!e.constructor||mt.call(e.constructor.prototype,"isPrototypeOf"):!1}function c(t){return 0===Object.keys(t).length}function o(t,e,i,n,s,a){var r=a||this,c=new XMLHttpRequest;return c.open(i,e,!0),c.onreadystatechange=function(){var e=c.status,i=null,n=null;if(4===c.readyState){var a=c.responseText;if("text"!==t)try{a=JSON.parse(a)}catch(o){}200===e?i={success:!0,result:a}:n={result:null,success:!1,status:e},s.call(r,n,i)}},n&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(n),c}function h(t,e,i,n,s){var a=[];return gt.isFunc(e)&&(s=n,n=i,i=e,e=null),gt.each(e,function(t,e){a.push(e+"="+encodeURIComponent(t))}),a.length&&(t=t+"?"+a.join("&")),o(s||"json",t,"GET",null,i,n)}function u(t,e,i,n){return o("json",t,"POST",e?JSON.stringify(e):null,i,n)}function l(t,e,i,n){return h(t,e,i,n,"text")}function p(t,e){return gt.isFunc(e)&&wt.test($t.call(e))?function(){this.Super=t,e.apply(this,arguments)}:e}function f(){}function d(t){return t.charAt(0).toUpperCase()+t.substr(1)}function v(t){var e=null;return gt.each(xt,function(i){return(i._&&i._.name)===t?(e=i,!1):void 0}),e}function m(t,e,i,n){return{type:t,from:e,to:null,count:0,name:i,param:n,method:"on"+d(i),returns:null}}function g(t,e){var i=t[e.method];return gt.isFunc(i)?(e.to=t,++e.count,i.call(t,e)):void 0}function y(t,e,i){gt.isFunc(e)&&e.call(i,t)}function b(t,e,i,n,s){for(var a=m("fire",t,e,i),r=t.getParent();r;){var c=g(r,a);if(c===!1)return void y(a,n,s);a.from=r,r=r.getParent()}y(a,n,s)}function x(t,e,i,n,s){for(var a=m("broadcast",t,e,i),r=t.getChilds(!0).slice(0);r.length;){var c=r.shift(),o=g(c,a);o!==!1&&(a.from=c,Array.prototype.push.apply(r,c.getChilds(!0)))}y(a,n,s)}function w(t,e,i,n,s,a){if(gt.isString(e)){var r,c=e.split("."),o=v(c.shift());c.length?gt.each(c,function(t){return r=o.getChild(t),o=r,null}):r=o,o=null,gt.isObject(r)&&(e=r)}var h=m("notify",t,i,n);return gt.isObject(e)?(g(e,h),void y(h,s,a)):(y(h,s,a),gt.warn("Component: ["+e+"] is not exist!"))}function $(t,e,i,n){var s=m("globalCast","__core__",t,e);gt.each(xt,function(t,e){gt.isObject(t)&&"0"!==e&&g(t,s)}),y(s,i,n)}function C(){this.$map={},this.$guid=1e3,this.$listeners={}}function S(t,e){for(var i=t.$data.$els,n=e.childNodes,s=0;s<n.length;s++){var a=n[s];if(_t.isElement(a)){for(var r=a.attributes,c=0;c<r.length;c++){var o=r[c];"v-el"===o.name&&gt.hasOwn(i,o.value)&&(i[o.value]=null)}a.hasChildNodes()&&S(t,a)}}}function O(t,e,i){gt.each(e.split(" "),function(e){i?_t.removeClass(t,e):_t.addClass(t,e)})}function A(t){var e=t.nextSibling;if(e&&_t.isElement(e))return e;for(;e;)if(e=e.nextSibling,e&&_t.isElement(e))return e;return null}function k(t){if(!t[Tt]){var e,i=gt.removeSpace(_t.getAttr(t,"style"));if(i&&i.indexOf("display")>-1){var n=i.split(";");gt.each(n,function(t){t.indexOf("display")>-1&&(e=gt.getKeyValue(t))})}"none"!==e&&(t[Tt]=e||"")}}function E(t){t[Nt]||(t[Nt]=t.innerHTML),_t.empty(t)}function _(t){this.vm=t}function j(t,e){for(var i=0;i<t.length;i++)if(0===e.indexOf(t[i]))return t[i]}function R(t,e,i){gt.isString(e)&&(e=i[e]),this.$context=i,this.$callback=e,this.$subs=[],this.$method=921,this.observe(t)}function N(t){this.$model=t,this.$modelSubs={},this.$accessSubs={},this.$indexSubs={},this.$deepSubs={},this.observer=new R(t,"change",this)}function T(t){return Ht.test(t)&&!Ut.test(t)&&0!==t.indexOf("Math.")}function F(t){var e=zt.length;return zt[e]=t,'"'+e+'"'}function D(t,e){return zt[e]}function M(t){var e=t.charAt(0),i=t.slice(1);return It.test(i)?t:(i=i.indexOf('"')>-1?i.replace(Bt,D):i,e+"scope."+i)}function P(t,e){var i,n=e;return n.indexOf(t.alias)>-1?t.alias:(gt.each(t.aliases,function(t){return new RegExp("\\b"+t+"\\b|\\b"+t+"\\.").test(n)?(i=t,!1):void 0}),i)}function L(){}function I(t){try{return new Function("scope","return "+t+";")}catch(e){return gt.error("Invalid generated expression: "+t),L}}function V(t){return T(t)?"scope."+t:(t=(" "+t).replace(Jt,F),t=t.replace(Kt,M),t=t.replace(Bt,D))}function q(){}function B(t){var e,i,n=gt.removeSpace(t),s=n.match(Gt),a=s&&s[0];return a?(i=n.substr(0,n.indexOf(a)),e="["+a.substr(1,a.length-2)+"]"):i=n,{func:i,args:e}}function U(t){var e,i=t.trim();if(Wt.test(i)){e={};var n=i.length;i=i.substr(1,n-2).replace(/\s/g,"");var s=i.match(Qt);gt.each(s,function(t){var i=gt.getKeyValue(t,!0),n=i[0],s=i[1];n&&s&&(n=n.replace(Xt,""),e[n]=s)})}return e}function J(t){this.vm=t,q.call(this)}function K(t){this.vm=t,q.call(this)}function H(t){this.vm=t,q.call(this)}function z(t,e){var i=t.firstChild;if(i&&i[ie]===e)return i;for(var n=t.childNodes,s=0;s<n.length;s++){var a=n[s];if(a[ie]===e){i=a;break}}return i}function Z(t,e){var i=t.lastChild;if(i&&i[ie]===e)return i;for(var n=t.childNodes,s=n.length-1;s>-1;s--){var a=n[s];if(a[ie]===e){i=a;break}}return i}function W(t,e,i){var n=0,s=null,a=t.firstChild,r=t.childNodes;if(a&&a[ie]===e)return r[i];for(var c=0;c<r.length;c++){var o=r[c];if(o[ie]===e){if(n===i){s=o;break}n++}}return s}function G(t,e,i,n){for(var s=-1,a=[],r=t.childNodes,c=0;c<r.length;c++){var o=r[c];o[ie]===e&&s++,s>=i&&i+n>s&&a.push(o)}gt.each(a,function(e){return t.removeChild(e),null})}function X(t,e){var i,n,s={};switch(t){case"unshift":for(s[0]=n,i=1;e>i;i++)s[i]=i-1;break;case"shift":for(i=0;e+1>i;i++)s[i]=i+1;s[e]=n}return s}function Q(t,e){gt.def(t,ie,e)}function Y(t){this.vm=t,q.call(this)}function tt(t){this.vm=t,q.call(this)}function et(t){this.vm=t,q.call(this)}function it(t){this.vm=t,q.call(this)}function nt(t){this.vm=t,q.call(this)}function st(t){this.vm=t,q.call(this)}function at(t){this.vm=t,this.vclass=new nt(t),this.vstyle=new st(t),q.call(this)}function rt(t,e){return _t.hasAttr(t,"number")?+e:e}function ct(t){for(var e=[],i=t.options,n=_t.hasAttr(t,"number"),s=0;s<i.length;s++){var a=i[s],r=a.value;a.selected&&e.push(n?+r:rt(a,r))}return e}function ot(t){this.vm=t,q.call(this)}function ht(t){return 0===t.indexOf("v-")}function ut(t){return _t.hasAttr(t,"v-if")||_t.hasAttr(t,"v-for")||_t.hasAttr(t,"v-pre")}function lt(t){if(_t.isElement(t)&&t.hasAttributes()){for(var e=t.attributes,i=0;i<e.length;i++)if(ht(e[i].name))return!0}else if(_t.isTextNode(t)&&ge.test(t.textContent))return!0}function pt(t,e){return _t.isElement(t)?gt.isObject(e)?(this.$element=t,this.$fragment=gt.nodeToFragment(this.$element),this.$data=e,gt.defRec(e,"$els",{}),gt.defRec(e,"$scope",{}),this.$unCompiles=[],this.$rootComplied=!1,this.updater=new _(this),this.watcher=new N(this.$data),this.von=new J(this),this.vel=new K(this),this.vif=new H(this),this.vfor=new Y(this),this.vtext=new tt(this),this.vhtml=new et(this),this.vshow=new it(this),this.vbind=new at(this),this.vmodel=new ot(this),void this.init()):gt.warn("model must be a type of Object: ",e):gt.warn("element must be a type of DOMElement: ",t)}function ft(t,e,i){var n=this.context=i||this;gt.each(e,function(t,i){gt.isFunc(t)&&(e[i]=t.bind(n))}),this.backup=gt.copy(e),this.vm=new pt(t,e),this.$data=this.vm.$data}function dt(t,e,i){if(!e)return t;for(var n=e.split("/");n.length>1&&gt.hasOwn(t,n[0]);)t=t[n.shift()];return e=n[0],"undefined"!=typeof i?(t[e]=i,!0):t[e]}var vt=Object.prototype,mt=vt.hasOwnProperty,gt={isBool:s,isFunc:i,isArray:e,isEmpty:c,isNumber:a,isObject:t,isString:n},yt=window.console;gt.warn=function(){yt&&yt.warn.apply(yt,arguments)},gt.error=function(){yt&&yt.error.apply(yt,arguments)},gt.hasOwn=function(t,e){return t&&mt.call(t,e)},gt.def=function(t,e,i,n,s,a){return Object.defineProperty(t,e,{value:i,writable:!!n,enumerable:!!s,configurable:!!a})},gt.defRec=function(t,e,i){return this.def(t,e,i,!0,!1,!0)},gt.clear=function(t){this.each(t,function(){return null})},gt.each=function(i,n,s){var a,r,c=this;if(i)if(s||(s=this),e(i))for(r=0;r<i.length&&(a=n.call(s,i[r],r,i),a!==!1);r++)null===a&&(i.splice(r,1),r--);else if(t(i))for(r in i)if(c.hasOwn(i,r)){if(a=n.call(s,i[r],r,i),a===!1)break;null===a&&delete i[r]}},gt.extend=function(){var t,n,a,c,o,h,u=arguments,l=this,p=arguments[0]||{},f=1,d=arguments.length,v=!1;for(s(p)&&(v=p,p=arguments[f]||{},f++),"object"==typeof p||i(p)||(p={}),f===d&&(p=this,f--);d>f;f++)if(null!=(t=u[f]))for(n in t)a=p[n],c=t[n],p!==c&&(v&&c&&(r(c)||(o=e(c)))?(o?(o=!1,h=a&&e(a)?a:[]):h=a&&r(a)?a:{},p[n]=l.extend(v,h,c)):void 0!==c&&(p[n]=c));return p},gt.copy=function(i){var n;return e(i)?n=i.slice(0):t(i)&&(n=this.extend(!0,{},i)),n||i},gt.removeSpace=function(t){return t.replace(/\s/g,"")},gt.getKeyValue=function(t,e){var i=t.split(":");return e?i:i.pop()},gt.createElement=function(t){return document.createElement(t)},gt.createFragment=function(){return document.createDocumentFragment()},gt.nodeToFragment=function(t){for(var e,i=this.createFragment();e=t.firstChild;)i.appendChild(e);return i},gt.stringToFragment=function(t){var e,i;return/<[^>]+>/g.test(t)?(e=this.createElement("div"),e.innerHTML=t,i=this.nodeToFragment(e)):(i=this.createFragment(),i.appendChild(document.createTextNode(t))),i},gt.getExpValue=function(t){var e=t.indexOf(".");return-1===e?t:t.substr(0,e)},gt.getExpKey=function(t){var e=t.lastIndexOf(".");return-1===e?"":t.substr(e+1)},gt.diff=function(t,e){return{n:this.getUnique(t,e),o:this.getUnique(e,t)}},gt.getUnique=function(i,n){var s={};return this.each(i,function(i,a){var r,o=n[a];if(t(i))r=this.getUnique(i,o),c(r)||(s[a]=r);else if(e(i)){var h=[];this.each(i,function(e,i){var n;t(e)?(n=this.getUnique(e,o[i]),h.push(n)):-1===o.indexOf(e)&&h.push(e)},this),s[a]=h}else i!==o&&(s[a]=i)},this),s},gt.makePaths=function(t){var e,i=this,n=t&&t.split("*");if(!n||n.length<2)return[];for(var s=n.length-1;s>-1;s--)if(i.isNumber(+n[s])){e=s+1;break}return n.slice(0,e)},gt.getDeepValue=function(t,e){for(var i=e.slice(0);i.length;)t=t[i.shift()];return t},gt.makeScopePaths=function(t){var e=0,i=[];if(t.length%2===0)for(;e<t.length;)e+=2,i.push(t.slice(0,e));return i};var bt={get:h,post:u,load:l},xt={id:1,length:0},wt=/\b\.Super\b/,$t=Function.prototype.toString;f.extend=function(t){function e(t,e){var i=n[t];gt.isFunc(i)&&i.apply(this,e)}function i(){}var n=this.prototype,s=i.prototype=Object.create(n);return gt.each(t,function(t,i){s[i]=p(e,t)}),t=null,i.extend=this.extend,s.constructor=i,i};var Ct={fire:b,broadcast:x,notify:w,globalCast:$},St="map",Ot="array",At=f.extend({_:{},create:function(t,e,i){if(!gt.isString(t))return gt.warn("Module name ["+t+"] must be a type of String");if(!gt.isFunc(e))return gt.warn("Module Class ["+e+"] must be a type of Component");var n=this._;if(gt.hasOwn(n,Ot)||(n[Ot]=[],n[St]={}),n[St][t])return gt.warn("Module ["+t+"] is already exists!");var s=new e(i),a={name:t,id:xt.id++,pid:n.id||0};return s._=a,xt[a.id]=s,xt.length++,n[Ot].push(s),n[St][t]=s,gt.isFunc(s.init)&&s.init(i,this),s},getParent:function(){var t=this._,e=t&&t.pid;return xt[e]||null},getChild:function(t){var e=this._;return e&&e[St]&&e[St][t]||null},getChilds:function(t){var e=this._;return t=gt.isBool(t)&&t,t?e[Ot]||[]:e[St]||{}},_removeChild:function(t){for(var e=this._,i=e[St]||{},n=e[Ot]||[],s=i[t],a=0,r=n.length;r>a;a++)if(n[a].id===s.id){delete i[t],n.splice(a,1);break}},destroy:function(t){var e=this._,i=e.name;gt.isFunc(this.beforeDestroy)&&this.beforeDestroy();var n=this.getChilds(!0);gt.each(n,function(t){gt.isFunc(t.destroy)&&t.destroy(1)});var s=this.getParent();1!==t&&s&&s._removeChild(i);var a=e.id;gt.hasOwn(xt,a)&&(delete xt[a],xt.length--),gt.isFunc(this.afterDestroy)&&this.afterDestroy(),t===!0&&this.fire("subDestroyed",i),gt.clear(this)},fire:function(t,e,i){gt.isFunc(e)&&(i=e,e=null),gt.isString(i)&&(i=this[i]),Ct.fire(this,t,e,i,this)},broadcast:function(t,e,i){gt.isFunc(e)&&(i=e,e=null),gt.isString(i)&&(i=this[i]),Ct.broadcast(this,t,e,i,this)},notify:function(t,e,i,n){gt.isFunc(i)&&(n=i,i=null),gt.isString(n)&&(n=this[n]),Ct.notify(this,t,e,i,n,this)}}),kt=At.extend({get:function(t){return this.getChild(t)},globalCast:function(t,e,i,n){gt.isFunc(e)&&(n=i,i=e,e=null),Ct.globalCast(t,e,i,n)},destroy:function(){}}),Et=xt[0]=new kt,_t={isElement:function(t){return 1===t.nodeType},isTextNode:function(t){return 3===t.nodeType},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t},setAttr:function(t,e,i){"boolean"==typeof i?t[e]=i:i!==this.getAttr(t,e)&&t.setAttribute(e,i)},getAttr:function(t,e){return t.getAttribute(e)||""},hasAttr:function(t,e){return t.hasAttribute(e)},removeAttr:function(t,e){t.removeAttribute(e)},addClass:function(t,e){var i,n=t.classList;this.hasClass(t,e)||(n?n.add(e):(i=" "+this.getAttr(t,"class")+" ",-1===i.indexOf(" "+e+" ")&&this.setAttr(t,"class",(i+e).trim())))},removeClass:function(t,e){var i,n,s=t.classList;if(this.hasClass(t,e)){if(s)s.remove(e);else{for(n=" "+e+" ",i=" "+this.getAttr(t,"class")+" ";i.indexOf(n)>-1;)i=i.replace(n," ");this.setAttr(t,"class",i.trim())}t.className||this.removeAttr(t,"class")}},hasClass:function(t,e){var i,n=t.classList;return n?n.contains(e):(i=" "+this.getAttr(t,"class")+" ",i.indexOf(" "+e+" ")>-1)},addEvent:function(t,e,i,n){t.addEventListener(e,i,n)},removeEvent:function(t,e,i,n){t.removeEventListener(e,i,n)}},jt=C.prototype;jt.guid=function(){return this.$guid++},jt.add=function(t,e,i,n,s){var a=this.$map,r=this.guid(),c=this.$listeners;a[r]=i,c[r]=function(t){i.call(s||this,t)},_t.addEvent(t,e,c[r],n)},jt.remove=function(t,e,i,n){var s,a=this.$map,r=this.$listeners;gt.each(a,function(t,e){return t===i?(s=e,!1):void 0}),s&&(_t.removeEvent(t,e,r[s],n),delete a[s],delete r[s])},jt.clear=function(){this.$guid=1e3,gt.clear(this.$map),gt.clear(this.$listeners)};var Rt=new C,Nt="__render",Tt="__visible",Ft=_.prototype;Ft.updateTextContent=function(t,e){t.textContent=String(e)},Ft.updateHtmlContent=function(t,e){_t.empty(t).appendChild(gt.stringToFragment(String(e)))},Ft.updateDisplay=function(t,e){var i=A(t);k(t),this.updateStyle(t,"display",e?t[Tt]:"none"),i&&(_t.hasAttr(i,"v-else")||"v-else"===i.__directive)&&(k(i),this.updateStyle(i,"display",e?"none":i[Tt]))},Ft.updateRenderContent=function(t,e){var i=A(t);E(t),this.toggleRender.apply(this,arguments),i&&(_t.hasAttr(i,"v-else")||"v-else"===i.__directive)&&(E(i),this.toggleRender(i,!e))},Ft.toggleRender=function(t,e){var i=this.vm,n=gt.stringToFragment(t[Nt]);e?(i.complieElement(n,!0),t.appendChild(n)):S(i,n)},Ft.updateAttribute=function(t,e,i){null===i?_t.removeAttr.apply(this,arguments):"value"===e?t.value=i:_t.setAttr(t,e,i)},Ft.updateClassName=function(t,e,i,n){n?e===!0?O(t,n):e===!1&&O(t,n,!0):(e&&O(t,e),i&&O(t,i,!0))},Ft.updateStyle=function(t,e,i){t.style[e]!==i&&(t.style[e]=i)},Ft.updateEvent=function(t,e,i,n,s){s?Rt.remove(t,e,i,n):Rt.add(t,e,i,n)},Ft.updateTextValue=function(t,e){t.value!==e&&(t.value=e)},Ft.updateRadioChecked=function(t,e){t.checked=t.value===(gt.isNumber(e)?String(e):e)},Ft.updateCheckboxChecked=function(t,e){var i=t.value;return gt.isArray(e)||gt.isBool(e)?(_t.hasAttr(t,"number")&&(i=+i),void(t.checked=gt.isBool(e)?e:e.indexOf(i)>-1)):gt.warn("Checkbox v-model value must be a type of Boolean or Array")},Ft.updateSelectChecked=function(t,e,i){for(var n=_t.hasAttr(t,"number"),s=t.options,a=s.length,r=i||_t.hasAttr(t,"multiple"),c=0;a>c;c++){var o=s[c],h=o.value;h=n?+h:_t.hasAttr(o,"number")?+h:h,o.selected=r?e.indexOf(h)>-1:e===h}};var Dt=["pop","push","sort","shift","splice","unshift","reverse"],Mt=R.prototype;Mt.observe=function(t,e){return gt.isArray(t)&&this.rewriteMethod(t,e),gt.each(t,function(i,n){var s=e&&e.slice(0);s?s.push(n):s=[n],this.bindWatch(t,s,i)},this),this},Mt.bindWatch=function(t,e,i){var n=e.join("*"),s=e[e.length-1],a=Object.getOwnPropertyDescriptor(t,s),r=a.get,c=a.set,o=this;Object.defineProperty(t,s,{get:function(){return r?r.call(t):i},set:function(a){var h,u=r?r.call(t):i,l=Dt.indexOf(o.$method)>-1;if(a!==u){l||!gt.isArray(a)&&!gt.isObject(a)||o.observe(a,e);var p=j(o.$subs,n);if(p&&(h=t[s]),c?c.call(t,a):i=a,!l){var f;f=p?[p,t[s],h]:[n,a,u],o.trigger.apply(o,f)}}}});var h=t[s],u=gt.isObject(h);(gt.isArray(h)||u)&&this.observe(h,e),u&&-1===this.$subs.indexOf(n)&&!gt.isNumber(+n.split("*").pop())&&this.$subs.push(n)},Mt.rewriteMethod=function(t,e){var i=Array.prototype,n=Object.create(i),s=e&&e.join("*");gt.each(Dt,function(t){var a=this,r=i[t];gt.defRec(n,t,function(){for(var i,n=arguments,c=arguments.length,o=new Array(c);c--;)o[c]=n[c];return a.$method=t,i=r.apply(this,o),a.$method=921,a.observe(this,e),a.trigger(s,this,t,o),i})},this),gt.defRec(n,"$set",function(t,e){return t>=this.length&&(t=this.length),this.splice(t,1,e)[0]}),gt.defRec(n,"$remove",function(t){var e=this.indexOf(t);return e>-1?this.splice(e,1):void 0}),t.__proto__=n},Mt.trigger=function(t,e,i,n){this.$callback.apply(this.$context,arguments)},Mt.destroy=function(){this.$context=this.$callback=this.$subs=this.$method=null};var Pt=N.prototype;Pt.change=function(t,e,i,n){var s=t.indexOf("*")>-1,a=s?this.$accessSubs[t]:this.$modelSubs[t];if(this.trigger(a,t,e,i,n),s){var r=t.split("*").shift();this.trigger(this.$deepSubs[r],t,e,i,n)}},Pt.trigger=function(t,e,i,n,s){gt.each(t,function(t){t.cb.call(t.ct,e,i,n,s||t.arg)})},Pt.watch=function(t,e,i,n){var s=t.dep,a=t.acc;gt.each(s,function(t,s){var r=a[s];if("$event"!==t)return t.indexOf("$index")>-1?void this.watchIndex(r,e,i,n):r?void this.watchAccess(r,e,i,n):void this.watchModel(gt.getExpValue(t),e,i,n)},this)},Pt.watchModel=function(t,e,i,n,s){return gt.hasOwn(this.$model,t)?(this.addSubs(this.$modelSubs,t,e,i,n),void(s&&this.addSubs(this.$deepSubs,t,e,i,n))):gt.warn("the field: ["+t+"] does not exist in model")},Pt.watchAccess=function(t,e,i,n){this.addSubs(this.$accessSubs,t,e,i,n)},Pt.watchIndex=function(t,e,i,n){this.addSubs(this.$indexSubs,t,e,i,n)},Pt.addSubs=function(t,e,i,n,s){t[e]||(t[e]=[]),t[e].push({cb:i,ct:n,arg:s})},Pt.removeSubs=function(t){gt.each(this.$indexSubs,function(e,i){return 0===i.indexOf(t)?null:void 0}),gt.each(this.$accessSubs,function(e,i){return 0===i.indexOf(t)?null:void 0})},Pt.moveSubs=function(t,e){var i=t+"*";this.moveIndex(i,e),this.moveAccess(i,e)},Pt.moveIndex=function(t,e){var i={},n=this.$indexSubs,s=gt.copy(n);gt.each(e,function(e,a){var r,c=t+a,o=t+e;i[c]=s[o],e===r&&(n[c]=r)}),gt.each(i,function(e,i){var n=+i.substr(t.length);gt.each(e,function(t){t.cb.call(t.ct,"$index",n,t.arg)})}),gt.extend(n,i),i=s=null},Pt.moveAccess=function(t,e){var i={},n=this.$accessSubs,s=gt.copy(n);gt.each(e,function(e,a){var r,c=[],o=[],h=t+a,u=t+e;gt.each(n,function(t,i){e===r&&0===i.indexOf(h)?(o.push(r),c.push(i)):0===i.indexOf(u)&&(o.push(i),c.push(i.replace(u,h)))}),gt.each(c,function(t,e){var a=o[e];a===r?n[t]=r:i[t]=s[a]})}),gt.extend(n,i),i=s=null},Pt.destroy=function(){gt.clear(this.$modelSubs),gt.clear(this.$accessSubs),gt.clear(this.$indexSubs),gt.clear(this.$deepSubs),this.observer.destroy()};var Lt="Math.parseInt.parseFloat.Date.this.true.false.null.undefined.Infinity.NaN.isNaN.isFinite.decodeURI.decodeURIComponent.encodeURI.encodeURIComponent",It=new RegExp("^("+Lt.replace(/\./g,"\\b|")+"\\b)"),Vt="var.const.let.if.else.for.in.continue.switch.case.break.default.function.return.do.while.delete.try.catch.throw.finally.with.import.export.instanceof.yield.await",qt=new RegExp("^("+Vt.replace(/\./g,"\\b|")+"\\b)"),Bt=/"(\d+)"/g,Ut=/^(true|false)$/,Jt=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|typeof /g,Kt=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,Ht=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,zt=[],Zt=q.prototype;Zt.bind=function(t,e,i){var n=this.getDeps(t,i),s=this.getScope(t,i),a=this.getEval(t,i),r=t&&gt.copy(t.maps);this.update(e,a.call(s,s)),this.vm.watcher.watch(n,function(){s=this.updateScope(s,r,n,arguments),this.update(e,a.call(s,s))},this)},Zt.getEval=function(t,e){return qt.test(e)?(gt.warn("Avoid using unallow keyword in expression ["+e+"]"),L):(e=V(e),t&&gt.each(t.aliases,function(t){var i=new RegExp("scope."+t,"g");e=e.replace(i,function(t){return"scope.$"+t})}),I(e))},Zt.getModel=function(){return this.vm.$data},Zt.getScope=function(t,e){var i=this.getModel();return t&&(gt.defRec(i,"$index",t.index),gt.defRec(i,"$scope",t.scopes)),i},Zt.updateScope=function(t,e,i,n){var s,a,r=0,c={},o=this.getModel(),h=gt.copy(i.acc);return h.unshift(n[0]),gt.each(h,function(t){var e=gt.makePaths(t);e.length>r&&(s=e,r=e.length)}),s&&(a=gt.makeScopePaths(s),gt.each(a,function(t){var i=t.length;"$index"===n[0]&&(t[i-1]=n[1]);var s=t[i-2],a=+t[i-1],r=gt.getDeepValue(o,t)||{};gt.defRec(o,"$index",a),c[e[s]]=r}),gt.defRec(o,"$scope",gt.extend(t.$scope,c))),o},Zt.getDeps=function(t,e){var i=[],n=[],s=" "+e.replace(Jt,F),a=s.match(Kt);return gt.each(a,function(e){var s,a,r,c,o=e.substr(1);t?(s=P(t,e),a=o.indexOf("$index")>-1,(o.indexOf(s)>-1||a)&&(r=t.accesses[t.aliases.indexOf(s)])):s=gt.getExpValue(o),a||o===s?c=r||t&&t.access:r&&"$event"!==o&&(c=r+"*"+gt.getExpKey(o)),-1===i.indexOf(o)&&(i.push(o),n.push(c))}),{dep:i,acc:n}};var Wt=/^\{.*\}$/,Gt=/(\(.*\))/,Xt=/(^'*)|('*$)|(^"*)|("*$)/g,Qt=/[^,]+:[^:]+((?=,[^:]+:)|$)/g,Yt=J.prototype=Object.create(q.prototype);Yt.parse=function(t,e,i,n){n.indexOf(":")>-1?this.parseSingle.apply(this,arguments):this.parseJson.apply(this,arguments)},Yt.parseSingle=function(t,e,i,n){var s=B(i),a=gt.getKeyValue(n),r=s.func,c=s.args,o=this.getDeps(t,r),h=this.getScope(t,r),u=this.getEval(t,r),l=u.call(h,h);this.bindEvent(t,e,r,a,l,c),this.vm.watcher.watch(o,function(i,n,s){this.update(e,a,s,!1,!0),this.bindEvent(t,e,i,a,n,c)},this)},Yt.parseJson=function(t,e,i){gt.each(U(i),function(i,n){this.parseSingle(t,e,i,n)},this)},Yt.bindEvent=function(t,e,i,n,s,a){var r,c,o,h,u=!1;if(n.indexOf(".")>-1){var l=n.split(".");n=l.shift(),r=l.indexOf("self")>-1,c=l.indexOf("stop")>-1,o=l.indexOf("prevent")>-1,u=l.indexOf("capture")>-1,h=0===n.indexOf("key")?+l[0]:null}var p=[];if(a){var f=this.getDeps(t,a),d=t&&gt.copy(t.maps),v=this.getScope(t,a);gt.defRec(v,"$event","$event");var m=this.getEval(t,a);p=m.call(v,v),this.vm.watcher.watch(f,function(){v=this.updateScope(v,d,f,arguments),p=m.call(v,v)},this)}var g=function(t){r&&t.target!==e||h&&h!==t.keyCode||(p.length?gt.each(p,function(e,i){("$event"===e||e instanceof Event)&&(p[i]=t)}):p.push(t),c&&t.stopPropagation(),o&&t.preventDefault(),s.apply(this,p))};this.update(e,n,g,u)},Yt.update=function(){var t=this.vm.updater;t.updateEvent.apply(t,arguments)};var te=K.prototype=Object.create(q.prototype);te.parse=function(t,e,i){if(t){var n=gt.getExpValue(i);if(n!==t.alias)return gt.warn("If v-el use in v-for, it must be defined on loop body");var s=t.scopes[n];if(gt.isObject(s)){var a=gt.getExpKey(i);s[a]=e}}else this.vm.$data.$els[i]=e};var ee=H.prototype=Object.create(q.prototype);ee.parse=function(){this.bind.apply(this,arguments)},ee.update=function(){var t=this.vm.updater;t.updateRenderContent.apply(t,arguments)};var ie="__vfor",ne=/(.*) in (.*)/,se=Y.prototype=Object.create(q.prototype);se.parse=function(t,e,i){var n,s,a,r=this.vm,c=i.match(ne),o=c[1],h=c[2],u=r.watcher,l=e.parentNode,p="OPTION"===e.tagName&&"SELECT"===l.tagName,f=this.getScope(t,h),d=this.getEval(t,h),v=d.call(f,f),m=h,g=gt.getExpKey(h),y=-1,b={},x={},w=[],$=[];return t&&(x=t.maps,y=t.level,b=t.scopes,w=t.aliases.slice(0),$=t.accesses.slice(0),m=t.access+"*"+g),gt.isArray(v)?(n=[e,v,0,m,o,w,$,b,x,++y],s=this.buildList.apply(this,n),e.parentNode.replaceChild(s,e),p&&this.updateOption(l,t),a={alias:o,aliases:w,access:m,accesses:$,scopes:b,level:y,maps:x},void(t?u.watchAccess(m,function(t,i,n,s){this.update(l,e,i,n,a,s)},this):u.watchModel(m,function(t,i,n,s){this.update(l,e,i,n,a,s)},this))):void l.removeChild(e)},se.updateOption=function(t,e){var i=t.__vmodel,n=this.getEval(e,i),s=this.getScope(e,i),a=n.call(s,s);this.vm.updater.updateSelectChecked(t,a)},se.buildList=function(t,e,i,n,s,a,r,c,o,h){var u=this.vm,l=gt.createFragment();return gt.each(e,function(e,p){var f=i+p,d=n.split("*").pop(),v=t.cloneNode(!0),m=n+"*"+f;c[s]=e,a[h]=s,r[h]=m,o[d]=s;var g={alias:s,aliases:a,access:m,accesses:r,scopes:c,maps:o,level:h,index:f};t.__directives>1&&u.block(t),Q(v,s),u.complieElement(v,!0,g),l.appendChild(v)},this),l},se.update=function(t,e,i,n,s,a){switch(n){case"push":this.push.apply(this,arguments);break;case"pop":this.pop.apply(this,arguments);break;case"unshift":this.unshift.apply(this,arguments);break;case"shift":this.shift.apply(this,arguments);break;case"splice":this.splice.apply(this,arguments);break;default:this.recompile.apply(this,arguments)}},se.updateScopes=function(t){var e=t.scopes,i=t.accesses,n=i.length;if(n>1){var s=t.maps,a=this.vm.$data,r=gt.makePaths(i[n-1]);gt.each(gt.makeScopePaths(r),function(t){var i=t.length-2,n=s[t[i]],r=gt.getDeepValue(a,t)||{};e[n]=r})}return e},se.push=function(t,e,i,n,s){var a=i.length-1,r=s.alias,c=[i[a]],o=this.updateScopes(s),h=[e,c,a,s.access,r,s.aliases,s.accesses,o,s.maps,s.level],u=Z(t,r),l=this.buildList.apply(this,h);u?t.insertBefore(l,u.nextSibling):t.appendChild(l)},se.pop=function(t,e,i,n,s){var a=Z(t,s.alias);a&&t.removeChild(a)},se.unshift=function(t,e,i,n,s){var a,r,c,o=s.alias,h=[i[0]],u=this.updateScopes(s),l=[e,h,0,s.access,o,s.aliases,s.accesses,u,s.maps,s.level];a=X(n,i.length),this.vm.watcher.moveSubs(s.access,a),r=this.buildList.apply(this,l),c=z(t,o),t.insertBefore(r,c)},se.shift=function(t,e,i,n,s){var a=X(n,i.length),r=z(t,s.alias);r&&(t.removeChild(r),this.vm.watcher.moveSubs(s.access,a))},se.splice=function(t,e,i,n,s,a){var r=a.shift(),c=a.shift(),o=a,h=a.length;if(0!==c||h){var u,l,p={},f=s.alias,d=i.length,v=c&&!h,m=!c&&h,g=c&&h;if(v){for(u=0;d>u;u++)p[u]=u>=r?u+c:u;if(gt.isEmpty(p))return void this.recompile.apply(this,arguments);this.vm.watcher.moveSubs(s.access,p),G(t,f,r,c)}else if(m||g){for(u=0;d>u;u++)m?p[u]=r>u?u:u>=r&&r+h>u?l:u-h:g&&(p[u]=r>u?u:u>=r&&r+h>u?l:u-(h-c));if(gt.isEmpty(p)||0===r&&c>d)return void this.recompile.apply(this,arguments);this.vm.watcher.moveSubs(s.access,p),g&&G(t,f,r,c);var y=W(t,f,r),b=this.updateScopes(s),x=[e,o,r,s.access,f,s.aliases,s.accesses,b,s.maps,s.level],w=this.buildList.apply(this,x);t.insertBefore(w,y)}}},se.recompile=function(t,e,i,n,s){var a,r=s.alias,c=t.childNodes,o=this.updateScopes(s),h=[e,i,0,s.access,r,s.aliases,s.accesses,o,s.maps,s.level];this.vm.watcher.removeSubs(s.access);for(var u=this.buildList.apply(this,h),l=0;l<c.length;l++){var p=c[l];p[ie]===r&&(a?(l--,t.removeChild(p)):a=p)}a?t.replaceChild(u,a):t.appendChild(u)};var ae=tt.prototype=Object.create(q.prototype);ae.parse=function(){this.bind.apply(this,arguments)},ae.update=function(){var t=this.vm.updater;t.updateTextContent.apply(t,arguments)};var re=et.prototype=Object.create(q.prototype);re.parse=function(t,e,i){this.bind.apply(this,[t,_t.isTextNode(e)?e.parentNode:e,i])},re.update=function(){var t=this.vm.updater;t.updateHtmlContent.apply(t,arguments)};var ce=it.prototype=Object.create(q.prototype);ce.parse=function(){this.bind.apply(this,arguments)},ce.update=function(){var t=this.vm.updater;t.updateDisplay.apply(t,arguments)};var oe=nt.prototype=Object.create(q.prototype);oe.parse=function(t,e,i){var n=this.getDeps(t,i),s=this.getScope(t,i),a=this.getEval(t,i),r=t&&gt.copy(t.maps),c=a.call(s,s);this.updateClass(e,c),this.vm.watcher.watch(n,function(t,i,o){s=this.updateScope(s,r,n,arguments),gt.isArray(c)&&(c=[o]),this.updateClass(e,c,!0),c=a.call(s,s),this.updateClass(e,c)},this)},oe.updateClass=function(t,e,i){gt.isString(e)?this.update(t,i?null:e,i?e:null):gt.isArray(e)?gt.each(e,function(e){this.update(t,i?null:e,i?e:null)},this):gt.isObject(e)&&gt.each(e,function(e,n){this.update(t,i?!1:e,!1,n)},this)},oe.update=function(){var t=this.vm.updater;t.updateClassName.apply(t,arguments)};var he=st.prototype=Object.create(q.prototype);he.parse=function(t,e,i){var n=this.getDeps(t,i),s=this.getScope(t,i),a=this.getEval(t,i),r=t&&gt.copy(t.maps),c=a.call(s,s);this.updateStyle(e,c),this.vm.watcher.watch(n,function(t,i,c){gt.isObject(c)?(gt.each(c,function(t,e){c[e]=null}),this.updateStyle(e,gt.extend(i,c))):(s=this.updateScope(s,r,n,arguments),this.updateStyle(e,a.call(s,s)))},this)},he.updateStyle=function(t,e,i){return gt.isObject(e)?void gt.each(e,function(e,n){this.update(t,n,i?null:e)},this):gt.warn("Bind for style must be a type of Object",e)},he.update=function(){var t=this.vm.updater;t.updateStyle.apply(t,arguments)};var ue=at.prototype=Object.create(q.prototype);ue.parse=function(t,e,i,n){if(n.indexOf(":")>-1){var s=this.vclass,a=this.vstyle,r=gt.getKeyValue(n);switch(r){case"class":s.parse.apply(s,arguments);break;case"style":a.parse.apply(a,arguments);break;default:this.parseAttr(t,e,i,r)}}else this.parseJson.apply(this,arguments)},ue.parseJson=function(t,e,i){var n=this.getDeps(t,i),s=this.getScope(t,i),a=this.getEval(t,i),r=gt.copy(a.call(s,s)),c=t&&gt.copy(t.maps);this.updateJson(e,r),this.vm.watcher.watch(n,function(t,i,o){var h,u;s=this.updateScope(s,c,n,arguments),u=a.call(s,s),h=gt.diff(u,r),this.updateJson(e,h.o,!0),this.updateJson(e,h.n),r=gt.copy(u)},this)},ue.updateJson=function(t,e,i){var n=this.vclass,s=this.vstyle;gt.each(e,function(e,a){switch(a){case"class":n.updateClass(t,e,i);break;case"style":s.updateStyle(t,e,i);break;default:this.update(t,a,e)}},this)},ue.parseAttr=function(t,e,i,n){var s=this.getDeps(t,i),a=this.getScope(t,i),r=this.getEval(t,i),c=t&&gt.copy(t.maps);this.update(e,n,r.call(a,a)),this.vm.watcher.watch(s,function(){a=this.updateScope(a,c,s,arguments),this.update(e,n,r.call(a,a))},this)},ue.update=function(){var t=this.vm.updater;t.updateAttribute.apply(t,arguments)};var le=["input","select","textarea"],pe=ot.prototype=Object.create(q.prototype);pe.parse=function(t,e,i){var n=e.tagName.toLowerCase(),s="input"===n?_t.getAttr(e,"type"):n;if(-1===le.indexOf(n))return gt.warn("v-model only for using in "+le.join(", "));gt.def(e,"__vmodel",i);var a=this.getDeps(t,i),r=this.getScope(t,i),c=this.getEval(t,i),o=gt.makePaths(a.acc[0]||a.dep[0]),h=gt.getDeepValue(this.vm.$data,o),u=c.call(r,r),l=gt.getExpKey(i)||i,p=[e,u,a,h,l];switch(s){case"text":case"password":case"textarea":this.parseText.apply(this,p);break;case"radio":this.parseRadio.apply(this,p);break;case"checkbox":this.parseCheckbox.apply(this,p);break;case"select":this.parseSelect.apply(this,p)}},pe.parseText=function(t,e,i,n,s){var a=this.vm,r=a.updater;r.updateTextValue(t,e),a.watcher.watch(i,function(e,i){r.updateTextValue(t,i)},this),this.bindTextEvent(t,n,s)},pe.bindTextEvent=function(t,e,i){var n;_t.addEvent(t,"compositionstart",function(){n=!0}),_t.addEvent(t,"compositionend",function(){n=!1}),_t.addEvent(t,"input",function(){n||(e[i]=this.value)}),_t.addEvent(t,"change",function(){e[i]=this.value})},pe.parseRadio=function(t,e,i,n,s){var a=this.vm,r=a.updater;_t.hasAttr(t,"checked")&&(n[s]=e=rt(t,t.value)),r.updateRadioChecked(t,e),a.watcher.watch(i,function(e,i){r.updateRadioChecked(t,i)},this),this.bindRadioEvent(t,n,s)},pe.bindRadioEvent=function(t,e,i){_t.addEvent(t,"change",function(){e[i]=rt(this,this.value)})},pe.parseCheckbox=function(t,e,i,n,s){var a=this.vm,r=a.updater;_t.hasAttr(t,"checked")&&(gt.isBool(e)?n[s]=e=!0:gt.isArray(e)&&e.push(rt(t,t.value))),r.updateCheckboxChecked(t,e),a.watcher.watch(i,function(e,i){r.updateCheckboxChecked(t,i)},this),this.bindCheckboxEvent(t,n,s,e)},pe.bindCheckboxEvent=function(t,e,i,n){_t.addEvent(t,"change",function(){var t=this.checked;if(gt.isBool(n))e[i]=t;else if(gt.isArray(n)){var s=rt(this,this.value),a=n.indexOf(s);t?-1===a&&n.push(s):a>-1&&n.splice(a,1)}})},pe.parseSelect=function(t,e,i,n,s){var a,r=this.vm.updater,c=_t.hasAttr(t,"multiple");if(gt.isString(e)){if(c)return gt.warn("<select> cannot be multiple when the model set ["+s+"] as not Array");a=Boolean(e)}else{
if(!gt.isArray(e))return gt.warn("The model ["+s+"] use in <select> must be a type of String or Array");if(!c)return gt.warn("The model ["+s+"] cannot set as Array when <select> has no multiple propperty");a=e.length>0}if(a)r.updateSelectChecked(t,e,c);else{var o=ct(t);n[s]=c?o:o[0]}this.vm.watcher.watch(i,function(e,i){r.updateSelectChecked(t,i,c)}),this.bindSelectEvent(t,n,s,c)},pe.bindSelectEvent=function(t,e,i,n){_t.addEvent(t,"change",function(){var t=ct(this);e[i]=n?t:t[0]})};var fe=/\n/g,de=/\{\{(.+?)\}\}/g,ve=/\{\{\{(.+?)\}\}\}/g,me=/\s\{|\{|\{|\}|\}|\}/g,ge=/(\{\{.*\}\})|(\{\{\{.*\}\}\})/,ye=pt.prototype;ye.init=function(){this.complieElement(this.$fragment,!0)},ye.complieElement=function(t,e,i){var n=this,s=t.childNodes;e&&lt(t)&&this.$unCompiles.push([t,i]);for(var a=0;a<s.length;a++){var r=s[a];lt(r)&&n.$unCompiles.push([r,i]),r.hasChildNodes()&&!ut(r)&&n.complieElement(r,!1,i)}e&&this.compileAll()},ye.compileAll=function(){gt.each(this.$unCompiles,function(t){return this.complieDirectives(t),null},this),this.checkRoot()},ye.complieDirectives=function(t){var e=t[0],i=t[1];if(_t.isElement(e)){for(var n,s=[],a=e.attributes,r=0;r<a.length;r++){var c=a[r],o=c.name;ht(o)&&("v-for"===o&&(n=c),s.push(c))}n&&(gt.def(e,"__directives",s.length),s=[n],n=null),gt.each(s,function(t){this.compile(e,t,i)},this)}else _t.isTextNode(e)&&this.compileText(e,i)},ye.compile=function(t,e,i){var n=e.name,s=e.value,a=[i,t,s,n];if(_t.removeAttr(t,n),0===n.indexOf("v-bind"))this.vbind.parse.apply(this.vbind,a);else if(0===n.indexOf("v-on"))this.von.parse.apply(this.von,a);else switch(n){case"v-el":this.vel.parse.apply(this.vel,a);break;case"v-text":this.vtext.parse.apply(this.vtext,a);break;case"v-html":this.vhtml.parse.apply(this.vhtml,a);break;case"v-show":this.vshow.parse.apply(this.vshow,a);break;case"v-if":this.vif.parse.apply(this.vif,a);break;case"v-else":gt.def(t,"__directive","v-else");break;case"v-model":this.vmodel.parse.apply(this.vmodel,a);break;case"v-for":this.vfor.parse.apply(this.vfor,a);break;case"v-pre":break;default:gt.warn("["+n+"] is an unknown directive!")}},ye.compileText=function(t,e){var i,n,s,a,r=[],c=t.textContent.trim().replace(fe,"");if(ve.test(c)){if(s=c.match(ve),n=s[0],i=n.replace(me,""),n.length!==c.length)return gt.warn("["+c+"] compile for HTML can not have a prefix or suffix");this.vhtml.parse.call(this.vhtml,e,t,i)}else a=c.split(de),s=c.match(de),gt.each(a,function(t){s.indexOf("{{"+t+"}}")>-1?r.push("("+t+")"):t&&r.push('"'+t+'"')}),this.vtext.parse.call(this.vtext,e,t,r.join("+"))},ye.block=function(t){gt.each(this.$unCompiles,function(e){return t===e[0]?null:void 0})},ye.checkRoot=function(){0!==this.$unCompiles.length||this.$rootComplied||(this.$rootComplied=!0,this.$element.appendChild(this.$fragment))},ye.destroy=function(){this.watcher.destroy(),_t.empty(this.$element),this.$fragment=this.$data=this.$unCompiles=this.updater=null,this.von=this.vel=this.vif=this.vfor=this.vtext=this.vhtml=this.vshow=this.vbind=this.vmodel=null};var be=ft.prototype;be.get=function(t){return gt.isString(t)?this.$data[t]:this.$data},be.getItem=function(t){return gt.copy(this.get(t))},be.set=function(t,e){var i=this.$data;gt.isString(t)&&(i[t]=e),gt.isObject(t)&&gt.each(t,function(t,e){i[e]=t})},be.reset=function(t){var e=this.$data,i=this.backup;gt.isString(t)?e[t]=i[t]:gt.isArray(t)?gt.each(t,function(t){e[t]=i[t]}):gt.each(e,function(t,n){e[n]=i[n]})},be.watch=function(t,e,i){this.vm.watcher.watchModel(t,function(t,i,n){e.call(this,t,i,n)},this.context,null,i)},be.destroy=function(){this.vm.destroy(),this.context=this.vm=this.backup=this.$data=null};var xe=At.extend({init:function(t,e){this._config=this.cover(t,{target:null,replace:!1,tag:"div","class":"",css:null,attr:null,view:"",template:"",tplParam:null,model:null,childs:null,cbRender:"afterRender"}),this.el=null,this.vm=null,this._ready=!1,gt.isFunc(this.beforeRender)&&this.beforeRender(),this.getConfig("template")?this._loadTemplate():this._render()},_loadTemplate:function(){var t=this.getConfig(),e=t.template;bt.load(e,t.tplParam,function(t,i){var n;t?(n=t.status+": "+e,gt.warn(t)):n=i.result,this.setConfig("view",n),this._render()},this)},_render:function(){if(this._ready)return this;this._ready=!0;var t=this.getConfig(),e=t.target,i=e instanceof HTMLElement;i?this.el=gt.createElement(t.tag):this.el=document.querySelector(e);var n=t["class"];n&&gt.isString(n)&&gt.each(n.split(" "),function(t){_t.addClass(this.el,t)},this),gt.isObject(t.css)&&gt.each(t.css,function(t,e){this.el.style[e]=t},this),gt.isObject(t.attr)&&gt.each(t.attr,function(t,e){_t.setAttr(this.el,e,t)},this),t.view&&this.el.appendChild(gt.stringToFragment(t.view));var s=t.model;gt.isObject(s)&&(this.vm=new ft(this.el,s,this)),gt.each(t.childs,this._buildBatch,this),i&&(t.replace?e.parentNode.replaceChild(this.el,e):e.appendChild(this.el));var a=this[t.cbRender];gt.isFunc(a)&&a.call(this)},_buildBatch:function(t,e){var i=this,n=this.queryAll(e.toLowerCase());switch(n.length||(n=this.queryAll("[name="+e+"]")),n.length){case 0:gt.warn("Cannot find target element for sub component ["+e+"]");break;case 1:this._createChild(n[0],e,t);break;default:for(var s=0;s<n.length;s++)i._createChild(n[s],e+s,t)}},_createChild:function(t,e,i){var n={target:t,replace:!0};gt.isFunc(i)?this.create(e,i,n):gt.isArray(i)&&this.create(e,i[0],gt.extend(i[1],n))},cover:function(t,e){return e||gt.warn("Failed to cover config, 2 arguments required"),gt.extend(!0,{},e,t)},getConfig:function(t){return dt(this._config,t)},setConfig:function(t,e){return dt(this._config,t,e)},query:function(t){return this.el.querySelector(t)},queryAll:function(t){return this.el.querySelectorAll(t)},bind:function(t,e,i,n){return gt.isString(i)&&(i=this[i]),Rt.add(t,e,i,n,this)},unbind:function(t,e,i,n){return gt.isString(i)&&(i=this[i]),Rt.remove(t,e,i,n)},afterDestroy:function(){var t=this.vm,e=this.el,i=e.parentNode;t&&t.destroy(),i&&i.removeChild(e),e=t=null}}),we={ajax:bt,core:Et,util:gt,Module:At,Component:xe};return we});